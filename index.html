<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Simple Utility Web - 편물 및 계산 도구 모음">
  <title>Simple Utility Web - 홈</title>

  <!-- CSS -->
  <link rel="preload" href="./css/main.css" as="style">
  <link rel="preload" href="./css/components.css" as="style">
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/components.css">
  <link rel="stylesheet" href="./css/home.css">
</head>
<body>
  <!-- Navigation (will be injected by nav.js) -->
  <div id="nav-container"></div>

  <!-- Main Content Area -->
  <main id="main-content" role="main">
    <!-- Hero Section -->
    <header class="hero">
      <h1>Simple Utility Web</h1>
      <p class="hero-description">
        편물과 계산을 위한 실용적인 도구 모음
      </p>
    </header>

    <!-- Utilities Grid Section -->
    <section class="utilities-section" aria-labelledby="utilities-heading">
      <h2 id="utilities-heading" class="visually-hidden">사용 가능한 도구</h2>

      <div class="utilities-grid">
        <!-- Gauge Converter Card -->
        <article class="utility-card">
          <h3>게이지 변환 계산기</h3>
          <p>편물 게이지를 다양한 단위로 변환하고 계산합니다</p>
          <a href="/pages/knitting-tools/gauge-tools/index.html" class="card-link">
            사용하기 →
          </a>
        </article>

        <!-- Placeholder for future utilities -->
        <article class="utility-card utility-card--placeholder" aria-hidden="true">
          <h3>더 많은 도구 준비중</h3>
          <p>새로운 유틸리티가 곧 추가됩니다</p>
        </article>
      </div>
    </section>
  </main>

  <!-- Footer (will be injected by footer.js) -->
  <div id="footer-container"></div>

  <!-- Component Loading Scripts -->
  <script type="module">
    import { renderNavigation, initMobileMenu } from './js/components/nav.js';
    import { renderFooter } from './js/components/footer.js';
    import { showError } from './js/components/error.js';

    // Load navigation
    async function loadNav() {
      try {
        const navHtml = await renderNavigation('home');
        document.getElementById('nav-container').innerHTML = navHtml;
        initMobileMenu();
      } catch (error) {
        console.error('Navigation load failed:', error);
        showError({
          type: 'error',
          message: '네비게이션을 불러올 수 없습니다.'
        });
      }
    }

    // Load footer
    function loadFooter() {
      try {
        const footerHtml = renderFooter();
        document.getElementById('footer-container').innerHTML = footerHtml;
      } catch (error) {
        console.error('Footer load failed:', error);
      }
    }

    // Initialize page
    loadNav();
    loadFooter();
  </script>
</body>
</html>
